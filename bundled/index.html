<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>20KB</title>
	<link rel="stylesheet" href="game.css">
	<style type="text/css">
	/*<!-- inject:css -->
	body{height:100vh;display:flex;align-items:center;justify-content:center;margin:0;padding:1em;background-color:#999;background:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDIiIGhlaWdodD0iNDQiIHZpZXdCb3g9IjAgMCA0MiA0NCI+PHBhdGggZmlsbD0iIzAwMCIgZD0iTTAgMGg0MnY0NEgwVjB6bTEgMWg0MHYyMEgxVjF6TTAgMjNoMjB2MjBIMFYyM3ptMjIgMGgyMHYyMEgyMlYyM3oiLz48L3N2Zz4K),radial-gradient(ellipse at center,#999 0,#000 80%)}body>p{position:absolute;bottom:20px}body>p>canvas{display:inline;margin:0 .2em .4em 0}#depot{display:none}#tools{position:absolute;top:5px;left:5px;display:flex;list-style:none;padding-left:0}#tools>a{display:block}#tools li,#tools>a{border:1px solid #333;background:radial-gradient(ellipse at center,#888 0,#666 100%);min-width:40px;height:40px;color:#fff;display:flex;align-items:center;justify-content:center;position:relative;cursor:pointer}#tools i{transform:none}.disabled{filter:grayscale();pointer-events:none}#tools data{position:absolute;bottom:0;right:0}#info{position:absolute;top:50px;left:5px;color:#fff;xborder:1px dotted #f0f}#info i{transform:scale(8);transform-origin:top left}#info u{text-decoration:none;font-weight:700}#info u:first-child{font-size:2em}#arm:hover,#end:hover,#mov:hover,#rot:hover,.arm #arm,.move #mov,.rotate #rot{color:#ff0;filter:brightness(1.2)}#ga{display:grid;background-color:gray;background-image:url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMSIgZW5jb2Rpbmc9IlVURi04IiBzdGFuZGFsb25lPSJubyI/Pgo8c3ZnIHdpZHRoPSIxMDBweCIgaGVpZ2h0PSIxMDBweCIgdmlld0JveD0iMCAwIDEwMCAxMDAiPgogICAgPHBhdGggZmlsbD0iIzAwMCIgZD0iTTExLDE4IEMxNCwxOCAxOCwxNCAxOCwxMSBDMTgsNyAxNCw0IDExLDQgQzcsNCA0LDcgNCwxMSBDNCwxNCA3LDE4IDExLDE4IFogTTU5LDQzIEM2Miw0MyA2NiwzOSA2NiwzNiBDNjYsMzIgNjIsMjkgNTksMjkgQzU1LDI5IDUyLDMyIDUyLDM2IEM1MiwzOSA1NSw0MyA1OSw0MyBaIE0xNiwzNiBDMTcsMzYgMTksMzQgMTksMzMgQzE5LDMxIDE3LDMwIDE2LDMwIEMxNCwzMCAxMywzMSAxMywzMyBDMTMsMzQgMTQsMzYgMTYsMzYgWiBNNzksNjcgQzgwLDY3IDgyLDY1IDgyLDY0IEM4Miw2MiA4MCw2MSA3OSw2MSBDNzcsNjEgNzYsNjIgNzYsNjQgQzc2LDY1IDc3LDY3IDc5LDY3IFogTTM0LDkwIEMzNSw5MCAzNyw4OCAzNyw4NyBDMzcsODUgMzUsODQgMzQsODQgQzMyLDg0IDMxLDg1IDMxLDg3IEMzMSw4OCAzMiw5MCAzNCw5MCBaIE05MCwxNCBDOTEsMTQgOTMsMTIgOTMsMTEgQzkzLDkgOTEsOCA5MCw4IEM4OCw4IDg3LDkgODcsMTEgQzg3LDEyIDg4LDE0IDkwLDE0IFogTTEyLDg2IEMxNCw4NiAxNiw4NCAxNiw4MiBDMTYsNzkgMTQsNzggMTIsNzggQzksNzggOCw3OSA4LDgyIEM4LDg0IDksODYgMTIsODYgWiBNNDAsMjEgQzQyLDIxIDQ0LDE5IDQ0LDE3IEM0NCwxNCA0MiwxMyA0MCwxMyBDMzcsMTMgMzYsMTQgMzYsMTcgQzM2LDE5IDM3LDIxIDQwLDIxIFogTTYzLDEwIEM2NSwxMCA2OCw3IDY4LDUgQzY4LDIgNjUsMCA2MywwIEM2MCwwIDU4LDIgNTgsNSBDNTgsNyA2MCwxMCA2MywxMCBaIE01Nyw3MCBDNTksNzAgNjEsNjggNjEsNjYgQzYxLDYzIDU5LDYyIDU3LDYyIEM1NCw2MiA1Myw2MyA1Myw2NiBDNTMsNjggNTQsNzAgNTcsNzAgWiBNODYsOTIgQzg4LDkyIDkxLDg5IDkxLDg3IEM5MSw4NCA4OCw4MiA4Niw4MiBDODMsODIgODEsODQgODEsODcgQzgxLDg5IDgzLDkyIDg2LDkyIFogTTMyLDYzIEMzNCw2MyAzNyw2MCAzNyw1OCBDMzcsNTUgMzQsNTMgMzIsNTMgQzI5LDUzIDI3LDU1IDI3LDU4IEMyNyw2MCAyOSw2MyAzMiw2MyBaIE04OSw1MCBDOTEsNTAgOTQsNDcgOTQsNDUgQzk0LDQyIDkxLDQwIDg5LDQwIEM4Niw0MCA4NCw0MiA4NCw0NSBDODQsNDcgODYsNTAgODksNTAgWiBNODAsMjkgQzgxLDI5IDgyLDI4IDgyLDI3IEM4MiwyNSA4MSwyNSA4MCwyNSBDNzgsMjUgNzgsMjUgNzgsMjcgQzc4LDI4IDc4LDI5IDgwLDI5IFogTTYwLDkxIEM2MSw5MSA2Miw5MCA2Miw4OSBDNjIsODcgNjEsODcgNjAsODcgQzU4LDg3IDU4LDg3IDU4LDg5IEM1OCw5MCA1OCw5MSA2MCw5MSBaIE0zNSw0MSBDMzYsNDEgMzcsNDAgMzcsMzkgQzM3LDM3IDM2LDM3IDM1LDM3IEMzMywzNyAzMywzNyAzMywzOSBDMzMsNDAgMzMsNDEgMzUsNDEgWiBNMTIsNjAgQzEzLDYwIDE0LDU5IDE0LDU4IEMxNCw1NiAxMyw1NiAxMiw1NiBDMTAsNTYgMTAsNTYgMTAsNTggQzEwLDU5IDEwLDYwIDEyLDYwIFoiPjwvcGF0aD4KPC9zdmc+Cg==);background-size:7%;grid-template-columns:repeat(11,50px);grid-template-rows:repeat(11,50px);grid-gap:0;position:relative;transform:rotateX(60deg) rotateZ(45deg)}#ga::before{content:'';display:block;width:30px;height:100%;position:absolute;bottom:-30px;right:-30px;background:#543;transform:translateY(-15px) skewY(45deg)}#ga::after{content:'';display:block;width:100%;height:30px;position:absolute;bottom:-30px;left:0;background:#876;transform:translateX(15px) skewX(45deg)}#animLayer{width:100%;height:100%;position:absolute;z-index:100;pointer-events:none}#animLayer>*{position:absolute}#ga>div{background:#6b8e23;border:1px solid #222;display:flex;align-items:center;justify-content:center}#ga>div:hover{background:rgba(255,255,240,.6)}.valid{filter:brightness(1.33)}#ga>div.team0spawn{border-color:#444;background:rgba(195,175,0,.5)}#ga>div.team1spawn{border-color:#444;background:rgba(175,95,175,.3)}b,i{display:block;width:32px;height:32px;font-style:normal;transform-origin:center bottom;transform:rotateZ(-45deg) rotateY(60deg) translateX(50%) translateY(25%) scale(4);image-rendering:pixelated;filter:hue-rotate(0)}b{transform:rotateZ(-45deg) rotateY(60deg) scale(5) translateX(13px) translateY(11px);filter:hue-rotate(30deg);pointer-events:none}div:hover>i,i:hover{filter:brightness(1.25) drop-shadow(1px 1px 0 #ff0) drop-shadow(-1px -1px 0 #ff0)}div:hover>i.team1,i.team1:hover{filter:brightness(1.25) drop-shadow(1px 1px 0 #ff0) drop-shadow(-1px -1px 0 #ff0) hue-rotate(180deg)}.team1{filter:hue-rotate(180deg)}.mine{background:url(data:image/gif;base64,R0lGODlhEAAQAPEDABoDA+bNzc4wMP///yH/C1hNUCBEYXRhWE1QAz94cAAh+QQFAAADACwAAAAAEAAQAAACMJyPqcvtb4CcckmBc0VXhJAJ29B5YLgB4apF64keqseO0aVS1seLDMD7+H4UAKRRAAA7) no-repeat;width:16px;height:16px}.qoblin{background:url(data:image/gif;base64,R0lGODlhEgBIAPIHAKn8oRbsFrOhhgMCAmJTOwCoAABTAP///yH/C1hNUCBEYXRhWE1QAz94cAAh+QQFAAAHACwAAAAAEgBIAEAD/3i6075QuWKaKS2OABz5A9EAwRBJTnYyluE+0NY1nygOpLmm+u64gYoqxqGFRJXTJngJUIAYhqFEEAg+VlGwd6CJJCBlIDguU5y9wfRozWqTrHBXrikAAJcnPGYXtr8rKDxcSnYkaIFdOAR4jEMMAVU3NFdDAwUYIW2Vl1ExWZSAGimCj0R3Y54+BalbhIp/IQNtlpiUsZ2Es5ygPjA8iTKHezusdwSIGjWcphJbNpXEylazor6DwVOp0iwXqK6vDh0vM68SrGSqMZqXqdW6FJIu8nvtt6AbnjglNADMRSwabKIG45MAHbvMXVrj7IK5RBDVmOGGYsq3TOEalBkj5F+hGkxPPEpSU2FkHU1XqkRLw+oep2RLPIBwMCaNg4EHCzKgJoFnoZrOkkEcGkObUCUSUVHweImEHTUPJRh1pSQWOo9bQB3cgQZapR05ZDmiKJNW1DmVfAZqt2YLUYgJAAA7) no-repeat;width:18px;height:24px}.fireskull{background:url(data:image/gif;base64,R0lGODlhEgBgAPIHAPvTH1w6JKRCAKKiouqEAP///8/PzwAAACH/C1hNUCBEYXRhWE1QAz94cAAh+QQFAAAHACwAAAAAEgBgAAAD/3i63P4wykkrJFYRgOsG3IF1DfGBHFmiLKiKImiw87iYoBDsu+CSOMGgQDQYBr6QBiAcEgtHpDImNBYHRx+QiYUWhtnpRmDYfb8B6Za8i5q1N2bgezwWAnDNZgdGBzYqgGZzOy4lewEoOyYvMWk8A4mNSwFlZVMPG1gDmBeMkxmhoqOkpaanqKkToBedESc2kzgsJq0tKC8jMjQhQB86PHg/N2NdV0lrA05PynlUxk9hyQZPx2JcVkXScVVG3ttLOkbKm8K+AHybkX+YgmnKhZ04wTyMDoLrnK5L6JEpEh8CUvjESpXBgwgTKlyo4Z6EfxZw1VIAwBYuirlEnHBh6FcegRm3XP2ip6XDLGxX1BBDGa3ZNTLVoLg0OYZazJnc0mSbY4CMCibjvPFx9uybEXOHIHURAOgelzYFfBhotGcqD6IMqjKCmKlfloIxyDEdeIKh2bMVEgAAOw==) no-repeat;width:18px;height:32px;xanimation:vertbob 1.5s infinite}.priest{background:url(data:image/gif;base64,R0lGODlhGABgAPIHAAAAAFEEAZUAAMQAAO8ODn5jKeXQOv///yH/C1hNUCBEYXRhWE1QAz94cAAh+QQFAAAHACwAAAAAGABgAEAD/3h60LCQuUhBKCQEIsKjCyAQgyaUwdCl3AdapNCcpftOdwNCFj2onp1CRDINCDHNUSa0/H4nTlAoceio1J6KYMuOWrQuliidYocZZHEgjohUgpUmEFe1AQVDQ2PoGwoeAH9tIVaGZ2hIGEhsYydxc3N1TBV5e35+gYNZhlaIQ18bJIQVj5FmWX0FFgF+pBWdV01vdg40Mq+JSlyIPRwZG6akAEeieX/FoxUGGg8iF4BMrHpNKSsnqDt4f3EzAnmrY55Vsje3Vue5DE9P6gx0HHHyQMPJJOxpjW7MQW+M0nyGWZuX7QU4EggJgMt1iBxDMnACfeJxBEnBaiO28OpVUf/EMXUOWtDBE+6TlhXuGOSB0gGHyVjD0vGgRenFl3tqambZEMnORGLAlPXKMEKDFH1NVijsUGRkUg4DwIHbojOEKDo/djHN0AWGSGzWPGREta3fBVVmN7lxlmJVJGevfOESNkZJLRrNxhzT00oVyAKAP5AsObEwzXIzoMRUw7hFLxZqfJpk9yMlAKK3OiDVppQxiqo8RvigLPrO1Zs5r3YVJQPrP7FFbJRle8FCOAtqZ76TJ69fXKyPoFzksevIj6YM92LK3QRwycEpC1N8LdEwajjR11nMa31LdiJ0Rnw3Edlyxqh/CI8x7g/0C/ZYNzcZtOesek49cI1fwr0XUHoO5cyyV2AB6uXcONJhkQAAOw==) no-repeat;width:24px;height:32px}.golem{background:url(data:image/gif;base64,R0lGODlhGgBgAPIHAAAAAGBjf0BDVYGEoJqcsxweJrvG3////yH/C1hNUCBEYXRhWE1QAz94cAAh+QQFAAAHACwAAAAAGgBgAAAD/3i6DP4syhbGCEGAyRWoBnEJWjd9AyFmpbk4AmZhJGQCacySlSBuHYdMJSioLgGHSwgoFIrODzD4MBqqoYdSAhBYigSDbyAwXL3kqcdrDjxTIkLmY0430PI3iZQOiOwvPBhufipyH4M1L08xGjR7gl0sBUCSSU06LImUiC0oSQeSKWYrJZ+VfqZPFUcZlKE+oKEVr6GMX0WVBReoLbAxM4proE1zgcAjvpKcu7KiUF7GswOc0ZVjzDmoaV2AACrOhdfcaJdlBrVNZhoo3D0DMLwU3GS8ONTsg2qI5rvwOBVwdNoCA4PAC/8cpSHwDZ6HFN+6JTGlpWIli1pcaNzIsf+jRw4WP3qogMQXRxQhkqnRiKKVMJZCSD6yEQTioEQaftyQkmmHlJVcYEDas4WKA0ZD2dG88wXp0G6AAg1os8eJkz0B6piEKmfHVUF/tgrCCekmiymYGvHTpK9RrmGXVs2QmWvgSHmiDJXacGokAVVe/oh42+XQ3XS7ulpALG+WMmAyokriW0Dar5svlx1tbAkajW3VOEdj1mMbOy+e9I00uIbcF6FvbRGFmu9SQVmrlSJy8O+B6hf6tPyDBy/J64topBDnzcs4xIt/pJDki9FG9aUis2vfDrJi9nZkTG5EWUr8ElYrLMPkg0T9DZc4iy7xMZhk4/ExutaQb1Shiit3QJ0QDQaV/RdDgHfUQeAg0S0xVTDFhGdeBB+U94E/Ds0302wIcjFDFzpMCFIFE7GS4Xh+JBEZbiyNwY+IIMXSWYcCGmSXR6dEA+MJ9ziyAo1cJIcSkFyUJgORFCZXGZJ39NgFky+kkQY7OKIh5YknVcfdllx+lAAAOw==) no-repeat;width:26px;height:32px}.necro{background:url(data:image/gif;base64,R0lGODlhIABgAPIHAOnpeZzQXW1tbQAAAAEkEhBIIECLNv///yH/C1hNUCBEYXRhWE1QAz94cAAh+QQFAAAHACwAAAAAIABgAAAD/3i6vPOvyUlHMcGUQfu0F1ZsXqkMWZEGXAO1JQoYdADApw2w5jDrhpvLByDgKkUIgccgAoSxDCR4PBCrkgGBACgQCkVjE8XCnh41ryqwgTjMpy9rvWSjvK1XZ0BTvSBsNDARe1xUOjs+QSRnHhZ1PgIAkmQXjIQVFwQGPlxcfBYZRm4Vm5xGiGVobBeYWSEPRjc3YgemLE9YWn1KvYMYPkwuIyynIRq1Vn5Luikoj0qMJwajFRhGpzU0ybacrmPA1F6jXzgR303MWpYWyFXob95yG5bcjXvRGu14WXAOW+xUjDsCz8UXFUY2jbBX8N9BarsWJuMj7cOmLxCXbIE4pv8HxgAJaXB0oK+Hnj/9TKhc6UgPS0ebRPlbuS4DG3sVSDUJkaFklCfCThATWRHJEygkNfTh1GNHrmEaRviM8dRF1BGtTAYok+6qVJwfBk0RoVRKQyukarbTtsFdS5JfaGmZ4oUpPgc8nW7tidAfoX1dMCxVOsJvtBR6d2zlNDVsVLN//mwzc8Umh1hYF6Jp3CSAgCWXYvlaC9bHAzv/jvFTWPQNHwI7R627vIbyLnO3JltZYjelK2ixxKDwljMLxswQUYC919WS0lHEixukRhiPzrAGvxzXvrzjm4MH1Ww5S3EQwHHot3Rnvpua+vcX/TauqU3EevZnIl9/yb8/yv7MH1zgDIDDLKbJTD2IxNdl+6kUig2BnAYUglYJNNwDT1DCHwgICQcUUjRxCFIeV7wUTXxokUGhQ+4JQuKK02y1lhQpwviIHJHh95M4nEyoI0y8XVQEFGe9Qk1Pn6hSpEES9ZhLGzAq08oLiWxgg43suPNAYZ6tqAVGWqRATxsgwsTLQBBAyRIfyQlWWI1rJvelbG/QFN+XWPW25DTj4YmVWCGi4WdWP8agnhojFgrkQgcqWsqhx13GmaHIADTSnkz2dJOkrZmkn6MEepAAADs=) no-repeat;width:32px;height:32px}.iceman{background:url(data:image/gif;base64,R0lGODlhIABmAPEDAAgVGbzj6TmJnf///yH/C1hNUCBEYXRhWE1QAz94cAAh+QQFAAADACwAAAAAIABmAAAC/5yPBsubDxMItFIQMwJCWNphWsZ5QXcF4tg0qlCWcOtsHBjC1/SieK0A/RYdT2ghBK1up9+sNauYQsEm7HlVcnhNZdWyjVYaxjKsOs0diZ4J8TRTuItIawnes4ugjM/btEVzIDOTVmhRSLdR9jY0dfJ3NmiE8bYFx1gJtyc4AEXZILfGdDGpAxljqmW04+nS1OJ5qsLGc3bHlXVrAktIK6fS48Y5drimkLipIorHRkt788QA2iYDFUy0tXgULM2FOg0k683rbZlLDAvOIIvdSNWOrRM4+GmHLEWz8hB4tWc+oh4KeM7iBJRxr52ZfRGiddkjhFJAV7HqVZyIMSMEff8MNeL7IMkjPl4/RCIjyWgiR5I4zIlzZYhUxCxDNiRZU4ROnXJLHm3qFy5XSU8RgfrIIdQLUT/ShJDBo2hpTDqo2tDKBMwaOl2QBqKSE5TJQLHZLhLKhiJG2kTwRu5SEqWaq02LIOEL84IuUYKd7HkTJY1kT5q1VFV9WKnFT3aXdsTwcifvnbdOfdX40/gyl36Lkc2Rx6nM1ZXrdoZdiUWbqdRlow0LasNbD2Ov0QHr9ZkylqFMXk9Z4tduvFHsGvoTzibqQa2cOrGITFCKchKsxnxxqtI5xVAmu2Pk6P1jze7f0nTMOMFn2+xP6RxB797hT/jS40vMfvOKzpfUDeGIvHHeRij5E0gpKpXzk0vfsZITElixR0MR4x3onnrFUbhDFw0GKGA1XH0FoUtkcCgBSgjpt8yBSfAhF4VjjWXNggv1kVdILPiA1m42akDjGlpceGMfc6y1I4/oTAPQgU/1ox+JEtRnSxvrLdceLFNqNBls5K2lpUfXVAWki1J01YaXHGkXXkAFAAA7) no-repeat;width:34px;height:34px}.ss{background-position:0 0}.ww{background-position:0 100%;transform:rotateZ(-45deg) rotateY(60deg) translateX(50%) translateY(25%) scaleX(-4) scaleY(4)}.nn{background-position:0 50%}.ee{background-position:0 100%}@keyframes vertbob{50%{padding-bottom:3px}}.jiggle{animation:jiggle .5s 3 alternate}@keyframes jiggle{0%{transform:translate(4px,3px)}17%{transform:translate(1px,4px)}33%{transform:translate(3px,2px)}50%{transform:translate(2px,5px)}67%{transform:translate(4px,1px)}83%{transform:translate(1px,3px)}}.flash{animation:.6s 3 flash}@keyframes flash{50%{opacity:.2}}.explode{animation:1s 1 explode}@keyframes explode{0%{filter:blur(0)}100%{filter:blur(20px)}}.move{cursor:move}.place-fireskull,.place-golem,.place-iceman,.place-mine,.place-necro,.place-priest,.place-qoblin{cursor:copy}.ai *{pointer-events:none;cursor:not-allowed}#credit{position:absolute;bottom:0;right:0}#credit,#credit a{color:#ccc}i figure{position:absolute;top:-35px;left:-50px;width:40px;height:17px;text-align:center;font-size:8px;font-family:Arial;white-space:nowrap;color:#fff;text-shadow:0 0 1px #000,0 0 1px #000,0 0 1px #000,0 0 1px #000}i figure:before{content:'';position:absolute;bottom:0;width:100%;height:4px;border:1px solid #fff;background:#000}i figure:after{content:'';position:absolute;left:2px;bottom:2px;height:2px;width:50%}i figure.p25:after{width:25%;background:orange}i figure.p50:after{width:50%;background:#ff0}i figure.p75:after{width:75%;background:#7cfc00}i figure.p100:after{width:100%;background:green}
	<!-- endinject -->*/
	</style>
</head>
<body>
	<ul id="tools">
		<li><i class="mine"></i><data></data></li>
		<li><i class="qoblin"></i><data></data></li>
		<li><i class="fireskull"></i><data></data></li>
		<li><i class="priest"></i><data></data></li>
		<li><i class="golem"></i><data></data></li>
		<li><i class="necro"></i><data></data></li>
		<li><i class="iceman"></i><data></data></li>
		<!--a id="rot" onclick="UI.setMode('rotate')">ROT</a-->
		<a id="mov" onclick="UI.setMode('move')">MOV</a>
		<a id="arm" onclick="UI.setMode('arm')">ARM<br>(1,2,3)</a>
		<a id="mov" onclick="UI.setMode('explode')">💣</a>
		<a id="end" onclick="endTurn()">DONE</a>
	</ul>
	<p id="info"></p>
	<div id="ga">
	</div>
	<div id="depot">
	</div>
	<p id="credit">Sprites by <a href="https://opengameart.org/users/redshrike">Redshrike</a></p>

	<!-- inject:js -->
	function SfxrParams(){this.setSettings=function(r){for(var t=0;24>t;t++)this[String.fromCharCode(97+t)]=r[t]||0;.01>this.c&&(this.c=.01),.18>(r=this.b+this.c+this.e)&&(r=.18/r,this.b*=r,this.c*=r,this.e*=r)}}function SfxrSynth(){this._params=new SfxrParams;var r,t,a,e,s,n,i,h,f,c,o,v;this.reset=function(){var r=this._params;e=100/(r.f*r.f+.001),s=100/(r.g*r.g+.001),n=1-r.h*r.h*r.h*.01,i=-r.i*r.i*r.i*1e-6,r.a||(o=.5-r.n/2,v=5e-5*-r.o),h=1+r.l*r.l*(0<r.l?-.9:10),f=0,c=1==r.m?0:(1-r.m)*(1-r.m)*2e4+32},this.totalReset=function(){this.reset();var e=this._params;return r=e.b*e.b*1e5,t=e.c*e.c*1e5,a=e.e*e.e*1e5+12,3*((r+t+a)/3|0)},this.synthWave=function(u,b){var m=this._params,y=1!=m.s||m.v,w=m.v*m.v*.1,g=1+3e-4*m.w,k=m.s*m.s*m.s*.1,S=1+1e-4*m.t,l=1!=m.s,p=m.x*m.x,d=m.g,x=m.q||m.r,A=m.r*m.r*m.r*.2,q=m.q*m.q*(0>m.q?-1020:1020),M=m.p?32+((1-m.p)*(1-m.p)*2e4|0):0,U=m.d,j=m.j/2,C=m.k*m.k*.01,P=m.a,R=r,W=1/r,_=1/t,z=1/a;.8<(m=5/(1+m.u*m.u*20)*(.01+k))&&(m=.8),m=1-m;for(var B,D,E,F,G,H=!1,I=0,J=0,K=0,L=0,N=0,O=0,Q=0,T=0,V=0,X=0,Y=Array(1024),Z=Array(32),$=Y.length;$--;)Y[$]=0;for($=Z.length;$--;)Z[$]=2*Math.random()-1;for($=0;$<b;$++){if(H)return $;if(M&&++V>=M&&(V=0,this.reset()),c&&++f>=c&&(c=0,e*=h),n+=i,(e*=n)>s&&(e=s,0<d&&(H=!0)),D=e,0<j&&(X+=C,D*=1+Math.sin(X)*j),8>(D|=0)&&(D=8),P||(0>(o+=v)?o=0:.5<o&&(o=.5)),++J>R)switch(J=0,++I){case 1:R=t;break;case 2:R=a}switch(I){case 0:K=J*W;break;case 1:K=1+2*(1-J*_)*U;break;case 2:K=1-J*z;break;case 3:K=0,H=!0}x&&(q+=A,0>(E=0|q)?E=-E:1023<E&&(E=1023)),y&&g&&(1e-5>(w*=g)?w=1e-5:.1<w&&(w=.1)),G=0;for(var rr=8;rr--;){if(++Q>=D&&(Q%=D,3==P))for(B=Z.length;B--;)Z[B]=2*Math.random()-1;switch(P){case 0:F=Q/D<o?.5:-.5;break;case 1:F=1-Q/D*2;break;case 2:F=.225*((0>(F=1.27323954*(F=6.28318531*(.5<(F=Q/D)?F-1:F))+.405284735*F*F*(0>F?1:-1))?-1:1)*F*F-F)+F;break;case 3:F=Z[Math.abs(32*Q/D|0)]}y&&(B=O,0>(k*=S)?k=0:.1<k&&(k=.1),l?(N+=(F-O)*k,N*=m):(O=F,N=0),O+=N,L+=O-B,F=L*=1-w),x&&(Y[T%1024]=F,F+=Y[(T-E+1024)%1024],T++),G+=F}G*=.125*K*p,u[$]=1<=G?32767:-1>=G?-32768:32767*G|0}return b}}var synth=new SfxrSynth;window.jsfxr=function(r){synth._params.setSettings(r);var t=synth.totalReset();r=new Uint8Array(4*((t+1)/2|0)+44),t=2*synth.synthWave(new Uint16Array(r.buffer,44),t);var a=new Uint32Array(r.buffer,0,44);a[0]=1179011410,a[1]=t+36,a[2]=1163280727,a[3]=544501094,a[4]=16,a[5]=65537,a[6]=44100,a[7]=88200,a[8]=1048578,a[9]=1635017060,a[10]=t,t+=44,a=0;for(var e="data:audio/wav;base64,";a<t;a+=3){var s=r[a]<<16|r[a+1]<<8|r[a+2];e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[s>>18]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[s>>12&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[s>>6&63]+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[63&s]}return e};
function pixCanv(e,t=3){var n={A:"010101101111101",B:"110101111101110",C:"111100100100111",D:"110101101101110",E:"111100111100111",F:"111100110100100",G:"01101000101110010110",H:"101101111101101",I:"111010010010111",J:"111001001101111",K:"10011010110010101001",L:"100100100100111",M:"1101110101101011000110001",N:"10011101101110011001",O:"111101101101111",P:"111101111100100",Q:"01101001100110111111",R:"110101101110101",S:"111100111001111",T:"111010010010010",U:"101101101101111",V:"101101101101010",W:"1000110001101011010101010",X:"1000101010001000101010001",Y:"101101010010010",Z:"1111100010001000100011111",0:"111101101101111",1:"0111010101",2:"111001111100111",3:"111001111001111",4:"101101111001001",5:"111100111001111",6:"111100111101111",7:"111001001001001",8:"111101111101111",9:"111101111001111"," ":"000000000000000",",":"0000000110",".":"00010",":":"01010"},r=document.createElement("p");return function(e,t){e=e.toUpperCase();for(var a=0;a<e.length;a++){var l=n[e.charAt(a)];l&&r.appendChild(function(e,t){var n=document.createElement("canvas");n.height=5*t,n.width=t*e.length/5;var r=n.getContext("2d");r.clearRect(0,0,n.width,n.height),r.fillStyle="yellow";for(var a=0,l=e.length/5,c=0;5>c;c++){for(var h=0;l>h;h++)"1"===e[l*c+h]&&r.fillRect(0+h*t,a,t,t);a+=t}return n}(l,t))}}(e,t),r}
var TinyAnimate=TinyAnimate||{};TinyAnimate.animate=function(n,e,i,t,a,o){function r(y){f||(0<=(y=(y||+new Date)-m)&&t(a(y,n,c,i)),0<=y&&y>=i?(t(e),o()):u(r))}if("number"==typeof n&&"number"==typeof e&&"number"==typeof i&&"function"==typeof t){"string"==typeof a&&TinyAnimate.easings[a]&&(a=TinyAnimate.easings[a]),"function"!=typeof a&&(a=TinyAnimate.easings.linear),"function"!=typeof o&&(o=function(){});var u=window.requestAnimationFrame||function(n){window.setTimeout(n,1e3/60)},f=!1,c=e-n;t(n);var m=window.performance&&window.performance.now?window.performance.now():+new Date;return u(r),{cancel:function(){f=!0}}}},TinyAnimate.animateCSS=function(n,e,i,t,a,o,r,u){return TinyAnimate.animate(t,a,o,function(t){n.style[e]=t+i},r,u)},TinyAnimate.cancel=function(n){n&&n.cancel()},TinyAnimate.easings={linear:function(n,e,i,t){return i*n/t+e},easeInOutQuad:function(n,e,i,t){return 1>(n/=t/2)?i/2*n*n+e:-i/2*(--n*(n-2)-1)+e},easeInOutSine:function(n,e,i,t){return-i/2*(Math.cos(Math.PI*n/t)-1)+e}};
!function(t,r){function i(t,r){t.push.apply(t,r?"[object Array]"=={}.toString.call(r)?r:[r]:[])}function s(t,r,i){for(var s=0,n=t.length;n>s;++s)t[s].call(r,i)}function n(t){return this instanceof n?(this.object=t.object,this.property=t.property,this.from=this._from=t.from||this.object[this.property],this.to="[object Array]"=={}.toString.call(t.to)?t.to:[t.to],this.target=0,this.parser=t.parser||function(t){var r,i,s,e=n.Parsers,h=[];for(i in e)e.hasOwnProperty(i)&&h.push(e[i]);for(h.sort(function(t,r){return(r.priority||0)-(t.priority||0)}),i=0,s=h.length;s>i;++i)if(null!=(r=new h[i]).parse(t))return r;return(r=new e.Number).parse(t),r}(this.from),this.transition=t.transition||n.Transitions.linear,this.duration=t.duration||500,this.fps=t.fps||40,this.frameInterval=1e3/this.fps,this.frames=t.frames||~~(this.duration/this.frameInterval+.5),this.frame=t.frame==r?-1:0,this.running=!1,this.startHandlers=[],this.updateHandlers=[],this.finishHandlers=[],i(this.startHandlers,t.start),i(this.updateHandlers,t.update),i(this.finishHandlers,t.finish),r):new n(t)}function e(t,r,i){return(r-t)*i+t}var h,a,o=n.prototype,u=t.Viper;o.start=function(){return this.running||(this.resume(),s(this.startHandlers,this,this.object)),this},o.stop=function(){return this.running&&(this.pause(),s(this.finishHandlers,this,this.object)),this},o.pause=function(t){if(this.running){this.running=this.time=!1,clearInterval(this.timer);var i=this;t!=r&&setTimeout(function(){i.resume()},t)}return this},o.resume=function(){if(!this.running&&this.frame<this.frames){var t=this;this.timer=setInterval(function(){t.step(+new Date)},this.frameInterval),this.running=!0}return this},o.step=function(t){this.frame+=(t-(this.time||t))/this.frameInterval,this.time=t,this.object[this.property]=this.parser.compute(this.from,this.to[this.target],this.frame<this.frames?this.transition(this.frame/this.frames):1),s(this.updateHandlers,this,this.object),this.frame>=this.frames&&(this.frame=this.time=0,this.parser.parse(this.from=this.to[this.target++]),this.to[this.target]==r&&(this.parser.parse(this.from=this._from),this.target=0,this.stop()))},n.Transitions={linear:function(t){return t},sine:function(t){return 1-Math.cos(t*Math.PI/2)},elastic:function(t){return Math.pow(2,10*--t)*Math.cos(20*t*Math.PI/3)},bounce:function(t){for(var r,i=0,s=1;(7-4*i)/11>t;)i+=s,s/=2;return r=(11-6*i-11*t)/4,s*s-r*r}};for(a in n.Transitions)n.Transitions.hasOwnProperty(a)&&(h=n.Transitions[a],h.out=function(t){return function(r){return 1-t(1-r)}}(h),h.inOut=function(t){return function(r){return(r>.5?2-t(2*(1-r)):t(2*r))/2}}(h));(n.Parsers={Number:function(){this.parse=function(t,i){var s=/(\D*)(\d+)(.*)?/.exec(t+="")||[,,NaN],n=parseFloat(s[2]);return i||(this.prefix=s[1]||"",this.suffix=s[3]||"",this.value=n),isNaN(n)?r:n},this.compute=function(t,r,i){return this.prefix+e(this.value,this.parse(r,!0),i)+this.suffix}},Color:function(){this.parse=function(t,r){var i,s=parseInt;return/^#[\da-f]{6}$/i.test(t)?i=[s(t.substring(1,3),16),s(t.substring(3,5),16),s(t.substring(5,7),16)]:(i=/^(rgb\()?(\d+),\s*(\d+),\s*(\d+)\)?$/.exec(t))&&(i=[s(i[2]),s(i[3]),s(i[4])]),r||(this.value=i),i},this.compute=function(t,r,i){for(var s=[],n=this.parse(r,!0),h=0,a=this.value.length;a>h;++h)s.push(~~(e(this.value[h],n[h],i)+.5));return"rgb("+s+")"}},String:function(){this.parse=function(t){return""+t},this.compute=function(t,r,i){t+="";var s=~~((r+="").length*i+.5);return r.substr(0,s)+t.substr(s,t.length-s-~~((t.length-r.length)*i+.5))}}}).Color.priority=1,n.Parsers.String.priority=-9,n.noConflict=function(){return t.Viper=u,n},t.Viper=n}(this);
function addEvent(e,t,s){e.attachEvent?e.attachEvent("on"+t,s):e.addEventListener(t,s)}function live(e,t,s,i){addEvent(i||d,t,function(t){for(var a,n=t.target||t.srcElement;n&&n.matches&&n!==i&&!(a=n.matches(e));)n=n.parentElement;a&&s.call(n,t)})}function arrEq(e,t){return JSON.stringify(e)==JSON.stringify(t)}function swapClass(e,t,s){s.classList.remove(e),s.classList.add(t)}function endTurn(){b.unHighlight();for(var e of units)e.hp<e.def&&e.hp++;myTurn=!myTurn}Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},Array.prototype.shuffle=function(){for(let e=this.length-1;e>0;e--){let t=Math.floor(Math.random()*(e+1));[this[e],this[t]]=[this[t],this[e]]}return this};var d=document;d.e=d.createElement,d.q=d.querySelector,d.qa=d.querySelectorAll,d.b=d.body,d.b.c=d.b.classList;var $ga=d.q("#ga"),st=setTimeout;const PLANTS=["🎄","🌲","🌳","🌵"],SPESH=["💥","🛡️","⛸️","⚫","🔮","💢"],TEXT={mine:["Mineshroom","None","Explodes when stepped on","N/A","Triggers a big explosion with more damage"],qoblin:["Goblin","One step in 4 possible directions.","Fisticuffs (weak)","weak","Can raise his shield to block 50% of damage"],fireskull:["Hothead","Moves in 2x1 dog-legs, 8 possible directions","Fiery Bite (average)","weak","None, but can float past obstacles"],priest:["Priest","Moves only on diagonals","Bad Habit (weak)","average","Can rush through a line of enemies, slashing them all"],golem:["Golem","Moves up to 4 steps in the 4 non-diagonal directions","Rocky Rumble (average)","strong","Can spit a rock with decent range and damage"],necro:["Necromancer","Unlimited movement in 8 directions","Dance of Death (strong)","average","Can cast a healing spell on units surrounding her"],iceman:["Ice Demon","Moves 1 step in all 8 directions","Ice Punch (strong)","strong","His jump causes a damaging earthquake"]},COLOURS=["#6B8E23","#7B8E23","#5B8E33","#6B7E13"],TRANSP=["rgba(130,180,110,0.7)","rgba(150,180,110,0.7)","rgba(130,160,110,0.7)"],baseSquad="mine,mine,qoblin,qoblin,qoblin,qoblin,fireskull,fireskull,priest,priest,golem,golem,necro,iceman".split(",");var cells=[],units=[],gameMode=null,selectedUnit=null,depots={0:[],1:[]},guid=0,myTurn=1,sounds={click:"1,,0.22,0.46,,0.9,0.86,-0.6,-1,-0.6681,,-1,,,-1,,-0.0014,0.1729,0.95,0.8999,,,0.2367,0.5",move:"2,0.26,0.69,0.1216,0.39,0.31,,-0.0999,0.0099,0.79,0.3,-0.949,-0.6922,0.5664,0.23,0.6269,-0.2367,0.2199,0.9831,0.7356,0.3795,0.0111,,0.5",slash:"1,,0.0648,,0.2896,0.5191,,-0.3743,,,,,,,,,,,1,,,0.0127,,0.5",shoot:"",explode:"3,.07,.43,.29,.48,.179,,-.26,,,,,,,,,.1895,.16,1,,,,,.5",spawn:"0,0.41,0.35,0.26,0.37,0.54,,-0.62,0.3999,,,-0.4885,,0.29,0.0735,0.8163,0.043,,0.9,0.4399,0.39,0.15,0.813,0.5",play:function(e){var t=new Audio;t.src=jsfxr(sounds[e].split(",").map(e=>parseFloat(e))),t.play()}};const unwrap=e=>e.slice(1).split("y").map(e=>+e);class Unit{constructor(e,t=0,s=null,i=null){this.type=e,this.id=e+guid++,this.team=t,this.facing=0==t?"ss":"nn",this.x=s,this.y=i;var a=e.charAt(0);return this.att={m:5,q:5,f:7,p:6,g:7,n:8,i:9}[a],this.hp=this.def={m:0,q:5,f:5,p:6,g:9,n:7,i:10}[a],this.el=d.e("i"),this.el.setAttribute("id",this.id),this.el.classList.add(e),this.el.classList.add("team"+t),this.el.classList.add(this.facing),0===t&&this._addEventListeners(),units.push(this),depots[this.team].push(this),null!==s&&null!==i&&this.placeAt([s,i]),this.vMoves=!1,this}_addEventListeners(){return this.el.addEventListener("mouseover",()=>{"move"==gameMode&&(this.vMoves=this.vMoves||this._validMoves(),b.highlight(this.vMoves))}),this.el.addEventListener("click",e=>{e.stopPropagation(),"rotate"==gameMode&&this.rotate(),"move"==gameMode&&(selectedUnit=this,UI.setMode("move-"+this.id)),"explode"==gameMode&&this.explode(),"health"==gameMode&&this.showHealthBar(this.id,100)}),this.el.addEventListener("mouseout",()=>{"move"==gameMode&&b.unHighlight()}),this}_addTo(e){return e.map(e=>[this.x+e[0],this.y+e[1]]).filter(e=>e[0]>=0&&e[1]>=0&&e[0]<b.w&&e[1]<b.h)}_validMoves(){var e=this._addTo([[0,1],[1,0],[0,-1],[-1,0]]),t=this._addTo([[1,1],[-1,-1],[1,-1],[-1,1]]),s=this._addTo([[2,1],[2,-1],[-2,1],[-2,-1],[1,2],[1,-2],[-1,2],[-1,-2]]),i=cells.filter(e=>e[0]==this.x||e[1]==this.y),a=i.filter(e=>Math.abs(e[0]-this.x)<4&&Math.abs(e[1]-this.y)<4),n=cells.filter(e=>Math.abs(e[0]-this.x)==Math.abs(e[1]-this.y));switch(this.type){case"mine":return[];case"qoblin":return e;case"fireskull":return s;case"priest":return n;case"golem":return a;case"necro":return i.concat(n);case"iceman":return e.concat(t)}}placeAt(e){var[t,s]=e;d.q("#x"+t+"y"+s).appendChild(this.el),this.el.style.opacity=1,sounds.play("spawn"),this.x=t,this.y=s,depots[this.team].splice(depots[this.team].indexOf(this),1);var i=b.at(e).map(e=>units.find(t=>t.id==e)).filter(e=>"object"==typeof e);return console.log(e,i),i.some(e=>e.team!==this.team)&&(console.log("fight at",e,"vs",i),this.melee(i[0])),this.vMoves=this._validMoves(),this}face(e){swapClass(this.facing,e,this.el),this.facing=e}moveTo(e){var t=e[0]-this.x,s=e[1]-this.y,i=360/6.283*Math.atan2(s,t),a=i>=0&&i<=90?"ss":i<=-90&&i>=-180?"nn":i>90&&i<180?"ww":i<0&&i>-90?"ee":"unknown";if(console.log(i,a),this.face(a),"fireskull"==this.type)this._flyTo(e);else{var n=b.findRoute([this.x,this.y],e);console.log(n);var o=function(){if(n.length>0){var e=n.shift(),t=b.at(e).map(e=>units.find(t=>t.id==e)).filter(e=>"object"==typeof e);if(console.log(e,t),t.some(e=>e.team===this.team))return void console.log("blocked at",e);this._stepTo(e,o)}}.bind(this);o()}return this.vMoves=this._validMoves(),this.face(0==this.team?"ss":"nn"),this}_stepTo(e,t){sounds.play("move"),this._flyTo(e,300,t)}_flyTo(e,t=600,s){var i=this._cloneToAnim(),a=50*(this.x+.5),n=50*(this.y+.5),o=50*(e[0]+.5),l=50*(e[1]+.5);TinyAnimate.animateCSS(i,"left","px",a,o,t,"linear"),TinyAnimate.animateCSS(i,"top","px",n,l,t,"linear",()=>{this.placeAt(e),i.parentNode.removeChild(i),s&&s()})}_cloneToAnim(){var e=this.el.cloneNode();return d.q("#animLayer").appendChild(e),e.style.left=50*(this.x+.5)+"px",e.style.top=50*(this.y+.5)+"px",this.el.style.opacity=0,e}target(e,t){this.targeting=[e,t],b.markCell(e,t,"targeted")}melee(e){console.log(e);var t=this.att+[-1,1].random(),s=this.def,i=e.att,a=e.def;console.log(t,s,i,a),Math.random()>.83?(this.hp-=i,this.fx("flash"),this.showHealthBar(),setTimeout(()=>{this.hp<0&&this.remove()},750)):(e.hp-=t,e.fx("flash"),e.showHealthBar(),setTimeout(()=>{e.hp<0&&e.remove()},750))}rotate(){if("mine"!=this.type){var e=["ss","ww","nn","ee"],t=this.facing,s=e[(e.indexOf(t)+1)%4];return console.log(s),swapClass(t,s,this.el),sounds.play("click"),this.facing=s,this}}showHealthBar(){var e=25*Math.ceil(4*this.hp/this.def);console.log(this.id,this.hp,e);var t=d.e("figure");t.classList.add("p"+e),t.innerHTML=this.id+" p"+e,this.el.appendChild(t),setTimeout(function(){t.remove()},1500)}explode(){sounds.play("explode"),this.fx("exploding",900,()=>{this.remove()})}remove(){d.q("#depot").appendChild(this.el),depots[this.team].push(this)}fx(e,t=1e3,s){this.el.classList.add(e),st(()=>{this.el.classList.remove(e),s&&s()},t)}}class Board{constructor(e,t=e){this.w=e,this.h=t;for(var s=0;s<t;s++)for(var i=0;i<e;i++){var a=d.e("div");$ga.appendChild(a),a.setAttribute("id","x"+i+"y"+s),i<5&&s<5?a.classList.add("team0spawn"):i>e-6&&s>t-6?a.classList.add("team1spawn"):(a.style.background=TRANSP.random(),Math.random()>.5&&(a.innerHTML=`<b id="tree${guid++}">${PLANTS.random()}</b>`,a.style.background=COLOURS.random())),a.style.zIndex=i+s,cells.push([i,s])}var n=d.e("aside");return n.setAttribute("id","animLayer"),$ga.appendChild(n),this}markCell(e,t,s){d.q("#x"+e+"y"+t).classList.add(s)}at(e){var[t,s]=e,i=d.q("#x"+t+"y"+s).childNodes;return Array.from(i).map(e=>e.id)}highlight(e){e.forEach(e=>d.q("#x"+e[0]+"y"+e[1]).classList.add("valid"))}unHighlight(){d.qa("div.valid").forEach(e=>e.classList.remove("valid"))}findRoute(e,t){if(arrEq(e,t))return[];var s=[],i=t[0]-e[0],a=t[1]-e[1];for(0!==i&&(i/=Math.abs(i)),0!==a&&(a/=Math.abs(a)),console.log(i,a);!arrEq(e,t);)e[0]+=i,e[1]+=a,s.push(e.slice(0));return s}placeUnits(e,t){var s=d.qa(".team"+e+"spawn");units.filter(t=>t.team==e).shuffle().slice(0,t).forEach(e=>{do{var t=unwrap(Array.from(s.values()).random().id)}while(b.at(t).length>0);e.placeAt(t)})}}class UI{static drawTools(){var e=[2-d.qa("#ga .mine.team0").length,4-d.qa("#ga .qoblin.team0").length,2-d.qa("#ga .fireskull.team0").length,2-d.qa("#ga .priest.team0").length,2-d.qa("#ga .golem.team0").length,1-d.qa("#ga .necro.team0").length,1-d.qa("#ga .iceman.team0").length];d.qa("#tools li").forEach((t,s)=>{var i=e[s];t.lastChild.innerHTML=i,i<1&&t.classList.add("disabled")})}static setMode(e,t=""){for(;d.b.c.length>0;)d.b.c.remove(d.b.c[0]);e&&("place"==e&&(e+="-"+t,selectedUnit=depots[0].filter(e=>e.type==t)[0]),d.b.c.add(e),console.log(e),gameMode=e)}}class AI{constructor(){for(var e of baseSquad)new Unit(e,1);return this}}var b=new Board(11);for(var t of baseSquad)new Unit(t,0);UI.drawTools();var opp=new AI;b.placeUnits(1,7),b.placeUnits(0,7),d.qa("#tools i").forEach(e=>{e.addEventListener("mouseover",()=>{var t=e.classList[0],s=TEXT[t];d.q("#info").innerHTML=`\n\t\t\t<u>${s[0]}</u><br>\n\t\t\t<u>Movement:</u> ${s[1]}<br>\n\t\t\t<u>Melee Attack:</u> ${s[2]}<br>\n\t\t\t<u>Defence:</u> ${s[3]}<br>\n\t\t\t<u>Special:</u> ${s[4]}\n\t\t\t<i class="${t}"></i>\n\t\t`}),e.addEventListener("mouseout",()=>{d.q("#info").innerHTML=""}),e.addEventListener("click",()=>{UI.setMode("place",e.classList[0])})}),live(".valid","click",e=>{var t=e.target.id.startsWith("x")?e.target.id:e.target.parentNode.id;console.log(selectedUnit.id,"directed to",t),selectedUnit.moveTo(unwrap(t)),selectedUnit=null,UI.setMode(),b.unHighlight()}),live(".team0spawn","click",e=>{gameMode.startsWith("place-")&&(selectedUnit.placeAt(unwrap(e.target.id)),selectedUnit=null,UI.setMode(),UI.drawTools())}),d.b.appendChild(pixCanv("The quick, brown fox jumps over a lazy dog. 123:456:7890"));
	<!-- endinject -->
</body>
</html>
<!--
TODO
	anim: jiggle, flash, bob, spin?, shrink?
anim: different walk speeds
anim: fireball
attacking effect/frame
tool: 3 place, 3 move, 3 special
ui: toolbox countdown circle
sfx: prevent many
sfx: different walks
sfx: mine ticker, reversal, fireskull, golem, necro, iceman, priest, necro
gfx: back-and-forth turns thing
sprites: golem & goblin should face se/ne only -> more complex orientation
utf8 powerups, potions
particle canvas?
@bug: placing units after first place -> depot?
-->
