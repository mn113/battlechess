body {
	height: 100vh;
	display: flex;
	align-items: center;
	justify-content: center;
	margin: 0;
	padding: 1em;
	background-color: #999;
	background: radial-gradient(ellipse at center, #999 0%, #000 80%);
}
#depot {
	display: none;
}
#msg {
	position: absolute;
	top: 0;
	text-align: center;
	z-index: -1;
	transition: 1s top;
	font: 3em Georgia;
	color: yellow;
}
#title {
	position: absolute;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
	height: 100vw;
	width: 100vw;
	text-align: center;
	z-index: 9;
}
#msg p,
#title p {
	width: 100vw;
}
p canvas {
	display: inline;
	margin: 0 0.2em 0.4em 0;
}
#mode {
	position: absolute;
	top: 0;
	right: 0;
	color: white;
}
.ai #fx {
	filter: sepia(.5);
}


/************/
/* TOOL BOX */
/************/
#tools {
	position: absolute;
	top: 5px;
	left: 5px;
	display: flex;
	list-style: none;
	padding-left: 0;
}
#tools > * {
	display: block;
	border: 1px solid #333;
	background: radial-gradient(ellipse at center, #888 0%, #666 100%);
	min-width: 40px;
	height: 40px;
	padding: 0 2px;
	color: #fff;
	display: flex;
	align-items: center;
	justify-content: center;
	position: relative;
	cursor: pointer;
}
#tools > *:hover,
.spesh #spesh {
	color: #ff0;
	filter: brightness(1.2);
}
#tools i {
	transform: none;
}
#tools i.mine s { margin-top: 8px; }
#tools i.qoblin s { margin-top: 4px; }
.disabled {
	filter: grayscale();
	cursor: not-allowed;
}
#tools data {
	position: absolute;
	bottom: 0;
	right: 0;
}
#info {
	position: absolute;
	top: 60px;
	left: 10px;
	color: #fff;
	line-height: 1.4em;
}
#info i {
	transform: scale(8);
    transform-origin: top left;
}
#info u {
	text-decoration: none;
	font-weight: bold;
}
#info u:first-child {
	font-size: 2em;
}


/*************/
/* GAME AREA */
/*************/
#ga {
	display: grid;
	background-color: gray;
	grid-template-columns: repeat(11, 50px);
	grid-template-rows: repeat(11, 50px);
	grid-gap: 0;
	position: relative;
	transform: rotateX(60deg) rotateZ(45deg);
}
#ga::before {
	content: '';
	display: block;
	width: 30px;
	height: 100%;
	position: absolute;
	bottom: -30px;
	right: -30px;
	background: #543;
	transform: translateY(-15px) skewY(45deg);
}
#ga::after {
	content: '';
	display: block;
	width: 100%;
	height: 30px;
	position: absolute;
	bottom: -30px;
	left: 0;
	background: #876;
	transform: translateX(15px) skewX(45deg);
}
#animLayer {
	width:100%;
	height: 100%;
	position: absolute;
	z-index: 100;
	pointer-events: none;
}
#animLayer > * {
	position: absolute;
}
#ga > div {
	background: olivedrab;
	border: 1px solid #222;
	display: flex;
	align-items: center;
	justify-content: center;
}
#ga > div:hover {
	background: rgba(255,255,240,0.6);
}
.valid {
	filter: brightness(1.33);
}
.valid:hover {
	filter: brightness(1.66);
}
#ga > div.team0spawn { border-color: #444; background: rgba(195,175,0,.5); }
#ga > div.team1spawn { border-color: #444; background: rgba(175,95,175,.3); }
i,b {
	display: block;
	width: 32px;
	height: 32px;
	font-style: normal;
	transform-origin: center bottom;
	transform: rotateZ(-45deg) rotateY(60deg) translateX(50%) translateY(25%) scale(4);
}
b {
	transform: rotateZ(-45deg) rotateY(60deg) scale(5) translateX(13px) translateY(11px);
	filter: hue-rotate(30deg);
	pointer-events: none;
}
i > s {
	display: block;
	width: 32px;
	height: 32px;
	image-rendering: pixelated;
	pointer-events: none;	/* all clicks handled by parent */
    text-decoration: none;
}
i.team0:hover {
	filter: brightness(1.25)
			drop-shadow(1px 1px 0 #9f0)
			drop-shadow(-1px -1px 0 #9f0);
}
i.team1:hover {
	filter: brightness(1.25)
			drop-shadow(1px 1px 0 #f09)
			drop-shadow(-1px -1px 0 #f09);
}
.spesh i.team0:hover,
i.special {
	filter: brightness(1.25)
			drop-shadow(1px 1px 0 #fff)
			drop-shadow(-1px -1px 0 #fff);
}
.team1 s {
	filter: hue-rotate(180deg);
}

.mine s {
	background: url(img/mush.gif) no-repeat;
	width: 16px;
	height: 16px;
	margin: 16px 8px 0;
}
.qoblin s {
	background: url(img/goblins.gif) no-repeat;
	width: 18px;
	height: 24px;
	margin: 4px 7px;
}
.fireskull s {
	background: url(img/hotheads.gif) no-repeat;
	width: 18px;
	height: 32px;
	margin: 0 7px;
}
.priest s {
	background: url(img/priests.gif) no-repeat;
	width: 24px;
	height: 32px;
	margin: 0 4px;
}
.golem s {
	background: url(img/golems.gif) no-repeat;
	width: 26px;
	height: 32px;
	margin: 0 3px;
}
.necro s {
	background: url(img/necros.gif) no-repeat;
	width: 32px;
	height: 32px;
}
.iceman s {
	background: url(img/icemen.gif) no-repeat;
	width: 34px;
	height: 34px;
}

.ss s { background-position: 0 0; }		/* default */
.sw s {}
.ww s {
	background-position: 0 100%;
	transform: scaleX(-1);
}
.nw s {}
.nn s { background-position: 0 50%; }
.ne s {}
.ee s { background-position: 0 100%; }
.se s {}

.flash s { animation: 0.35s 3 flash; }
@keyframes flash {
	50% { opacity: 0.2; }
}
.explode s { animation: 1s 1 explode; }
@keyframes explode {
	0%   { filter: blur(0px); }
	100% { filter: blur(20px); }
}
.invert s { animation: 0.5s 2 invert; }
@keyframes invert {
	50% 	 { filter: invert() }
}

.move { cursor: move; }
.place-mine,
.place-qoblin,
.place-fireskull,
.place-priest,
.place-golem,
.place-necro,
.place-iceman { cursor: copy; }
.spesh i.team0 { cursor: all-scroll; }
.team1 {
	pointer-events: none;
	cursor: not-allowed;
}

#credit {
	position: absolute;
	bottom: 0;
	right: 0;
	color: #ccc;
}
